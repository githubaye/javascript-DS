<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AsyncWait</title>
  </head>

  <body>
    <div></div>

    <script>
      let news = [
        { newsTitle: "First Heading", newsContent: "hello world" },
        { newsTitle: "Second Heading", newsContent: "callback Function" },
      ];
      function showNews() {
        setTimeout(() => {
          let result = "";
          news.forEach((post) => {
            result += `<li>${post.newsTitle}</li>`;
          });
          document.querySelector("div").innerHTML = result;
        }, 2000);
      }

      function addNews(newsData) {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            news.push(newsData);
            const error = false;
            if (!error) {
              resolve();
            } else {
              reject("Error: KEHI BIGARIS HAI ! ");
            }
          }, 3000)
        })
      }

      async function demoFunction(){
          await addNews({newsTitle:'Third title', newsContent:'added from another function'})
      }

      demoFunction()
    </script>
  </body>
</html>
